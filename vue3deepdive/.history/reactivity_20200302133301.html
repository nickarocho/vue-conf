<script>
  class Dep {
    subcribers = new Set()
    depend() {
      this.subcribers.add(???)
    }
    notify() {
      // TODO
    }
  }

  function watchEffect(effect) {
    effect()
  }

  // usage -----------------------

  const dep = new Dep()

  watchEffect(() => {
    console.log('effect is run')
    dep.depend()
  }) // effect is run

  dep.notify() // effect is run
</script>
