<script src="https://unpkg.com/vue@next"></script>

<div id="app">
  <div v-if="isPending">loading...</div>
  <div v-else-if="data">{{ data }}</div>
  <div v-else-if="error">Error: {{ error.msg }}</div>
</div>

<script>
const { ref } = Vue

function useFetch(url) {
  const data = ref(null)
  const isPending = ref(true)
  const error = ref()

  fetch(url)
    .then(res => res.json())
    .then(rawData => {
      data.value = err
    })
}

const App = {
  setup(props) {
    const {
      data,
      isPending,
      error
    } = useFetch(`https://jsonplaceholder.typicode.com/posts/1`)

    return {
      data,
      isPending,
      error
    }
  }
}

Vue.createApp(App).mount('#app')
</script>